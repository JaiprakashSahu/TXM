(()=>{var e={};e.id=168,e.ids=[168],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},2694:e=>{"use strict";e.exports=require("http2")},8791:e=>{"use strict";e.exports=require("https")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},4175:e=>{"use strict";e.exports=require("tty")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},5747:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>u,tree:()=>d}),a(7135),a(2834),a(3201),a(5866);var r=a(3191),t=a(8716),i=a(7922),l=a.n(i),n=a(5231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);a.d(s,c);let d=["",{children:["dashboard",{children:["manager",{children:["travel",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,7135)),"C:\\Users\\jaipr\\Desktop\\itilite\\frontend\\src\\app\\dashboard\\manager\\travel\\[id]\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,2834)),"C:\\Users\\jaipr\\Desktop\\itilite\\frontend\\src\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,3201)),"C:\\Users\\jaipr\\Desktop\\itilite\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\jaipr\\Desktop\\itilite\\frontend\\src\\app\\dashboard\\manager\\travel\\[id]\\page.tsx"],x="/dashboard/manager/travel/[id]/page",m={require:a,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/dashboard/manager/travel/[id]/page",pathname:"/dashboard/manager/travel/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},8978:(e,s,a)=>{Promise.resolve().then(a.bind(a,511))},3468:(e,s,a)=>{Promise.resolve().then(a.bind(a,9003))},6333:(e,s,a)=>{"use strict";a.d(s,{Z:()=>r});let r=(0,a(2881).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},7358:(e,s,a)=>{"use strict";a.d(s,{Z:()=>r});let r=(0,a(2881).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},511:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>C});var r=a(326),t=a(6170),i=a(5047),l=a(2166),n=a(4519),c=a(9635),d=a(1810);function o(){let e=(0,i.useRouter)(),{user:s,logout:a}=(0,l.aC)();return(0,r.jsxs)("header",{className:"h-16 bg-surface-900 border-b border-surface-700 px-6 flex items-center justify-between",children:[r.jsx("div",{children:r.jsx("h1",{className:"text-lg font-semibold text-surface-100",children:"Dashboard"})}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx("div",{className:"p-2 bg-surface-700 rounded-lg",children:r.jsx(c.Z,{className:"h-4 w-4 text-surface-300"})}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium text-surface-100",children:s?.name}),r.jsx("p",{className:"text-xs text-surface-500 capitalize",children:s?.role})]})]}),(0,r.jsxs)(n.zx,{variant:"ghost",size:"sm",onClick:()=>{a(),e.push("/login")},children:[r.jsx(d.Z,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]})}var x=a(434),m=a(1223),u=a(4319),p=a(6641),h=a(5964),f=a(1292),j=a(6507),g=a(2952),v=a(1383),b=a(1821),N=a(2200),y=a(6283),w=a(6464),q=a(4061),Z=a(7546);let k=[{href:"/dashboard",label:"Overview",icon:u.Z,roles:["employee","manager","admin"],section:"General"},{href:"/dashboard/travel",label:"Travel Requests",icon:p.Z,roles:["employee","manager","admin"]},{href:"/dashboard/expenses",label:"Expenses",icon:h.Z,roles:["employee","manager","admin"]},{href:"/dashboard/bookings",label:"Bookings",icon:f.Z,roles:["employee","manager","admin"]},{href:"/dashboard/notifications",label:"Notifications",icon:j.Z,roles:["employee","manager","admin"]},{href:"/dashboard/manager/travel/pending",label:"Travel Approvals",icon:g.Z,roles:["manager","admin"],section:"Manager"},{href:"/dashboard/approvals",label:"Quick Approvals",icon:v.Z,roles:["manager","admin"]},{href:"/dashboard/finance/expenses/pending",label:"Expense Review",icon:b.Z,roles:["admin"],section:"Finance"},{href:"/dashboard/flagged",label:"Flagged Expenses",icon:N.Z,roles:["admin"]},{href:"/dashboard/policies",label:"Policies",icon:y.Z,roles:["admin"],section:"Admin"},{href:"/dashboard/analytics",label:"Analytics",icon:w.Z,roles:["admin"]},{href:"/dashboard/users",label:"Users",icon:q.Z,roles:["admin"]}];function P(){let e;let s=(0,i.usePathname)(),{role:a}=(0,l.aC)(),t=k.filter(e=>a&&e.roles.includes(a));return(0,r.jsxs)("aside",{className:"w-64 bg-surface-900 border-r border-surface-700 flex flex-col h-full",children:[(0,r.jsxs)("div",{className:"h-16 flex items-center gap-3 px-6 border-b border-surface-700",children:[r.jsx("div",{className:"p-2 bg-primary-600 rounded-lg",children:r.jsx(Z.Z,{className:"h-5 w-5 text-white"})}),r.jsx("span",{className:"text-lg font-bold text-surface-100",children:"ITILITE Lite"})]}),r.jsx("nav",{className:"flex-1 py-4 px-3 overflow-y-auto",children:r.jsx("ul",{className:"space-y-1",children:t.map(a=>{let t=s===a.href||"/dashboard"!==a.href&&s.startsWith(a.href),i=a.section&&a.section!==e;return a.section&&(e=a.section),(0,r.jsxs)("li",{children:[i&&r.jsx("p",{className:"px-3 pt-5 pb-1.5 text-[10px] font-semibold uppercase tracking-wider text-surface-500",children:a.section}),(0,r.jsxs)(x.default,{href:a.href,className:(0,m.cn)("flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm font-medium transition-colors duration-150",t?"bg-primary-600/20 text-primary-400":"text-surface-400 hover:bg-surface-800 hover:text-surface-100"),children:[r.jsx(a.icon,{className:"h-5 w-5 flex-shrink-0"}),r.jsx("span",{children:a.label})]})]},a.href)})})}),r.jsx("div",{className:"p-4 border-t border-surface-700",children:r.jsx("p",{className:"text-xs text-surface-500 text-center",children:"Travel & Expense Management"})})]})}function C({children:e}){return r.jsx(t.I,{children:(0,r.jsxs)("div",{className:"min-h-screen bg-surface-950 flex",children:[r.jsx(P,{}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col",children:[r.jsx(o,{}),r.jsx("main",{className:"flex-1 p-6 overflow-auto",children:e})]})]})})}},9003:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>f});var r=a(326),t=a(7577),i=a(5047),l=a(4224),n=a(1223),c=a(6170),d=a(4519),o=a(6333);let x=(0,a(2881).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);var m=a(7358),u=a(1821),p=a(6283),h=a(434);function f(){return r.jsx(c.p,{allowedRoles:["manager","admin"],children:r.jsx(j,{})})}function j(){let e=(0,i.useRouter)(),s=(0,i.useParams)(),a=s?.id,[c,f]=(0,t.useState)(null),[j,v]=(0,t.useState)(!0),[b,N]=(0,t.useState)(!1),[y,w]=(0,t.useState)(null),[q,Z]=(0,t.useState)(null),k=async s=>{N(!0),w(null);try{await l.x1.post(`/travel/${a}/approve`,{comment:s}),Z("Travel request approved successfully!"),setTimeout(()=>e.push("/dashboard/manager/travel/pending"),1500)}catch(e){w(e.response?.data?.message||"Failed to approve request"),N(!1)}},P=async s=>{N(!0),w(null);try{await l.x1.post(`/travel/${a}/reject`,{comment:s}),Z("Travel request rejected."),setTimeout(()=>e.push("/dashboard/manager/travel/pending"),1500)}catch(e){w(e.response?.data?.message||"Failed to reject request"),N(!1)}};if(j)return r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(d.$j,{size:"lg"})});if(!c)return r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-surface-400",children:"Travel request not found."})});let C="object"==typeof c.userId?c.userId:{name:"Unknown",email:""};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx(h.default,{href:"/dashboard/manager/travel/pending",children:r.jsx("button",{className:"p-2 rounded-lg text-surface-400 hover:bg-surface-800 hover:text-surface-100 transition-colors",children:r.jsx(o.Z,{className:"h-5 w-5"})})}),(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("h1",{className:"text-2xl font-bold text-surface-100",children:"Review Travel Request"}),(0,r.jsxs)("p",{className:"text-surface-400 mt-1",children:["Submitted by ",C.name]})]}),r.jsx(d.OE,{status:c.status})]}),q&&r.jsx("div",{className:"p-4 bg-success-600/10 border border-success-600/30 rounded-xl",children:r.jsx("p",{className:"text-sm text-success-500",children:q})}),y&&r.jsx("div",{className:"p-4 bg-danger-600/10 border border-danger-600/30 rounded-xl",children:r.jsx("p",{className:"text-sm text-danger-500",children:y})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,r.jsxs)(d.Zb,{children:[r.jsx(d.Ol,{title:"Request Details"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[r.jsx(x,{className:"h-5 w-5 text-primary-400 mt-0.5"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs text-surface-500 uppercase tracking-wide",children:"Destination"}),r.jsx("p",{className:"text-lg font-semibold text-surface-100 mt-0.5",children:c.destination})]})]}),(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[r.jsx(m.Z,{className:"h-5 w-5 text-primary-400 mt-0.5"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs text-surface-500 uppercase tracking-wide",children:"Travel Dates"}),(0,r.jsxs)("p",{className:"text-sm text-surface-200 mt-0.5",children:[(0,n.p6)(c.startDate)," â€“ ",(0,n.p6)(c.endDate)]})]})]}),(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[r.jsx(u.Z,{className:"h-5 w-5 text-primary-400 mt-0.5"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs text-surface-500 uppercase tracking-wide",children:"Estimated Cost"}),r.jsx("p",{className:"text-lg font-semibold text-surface-100 mt-0.5",children:(0,n.xG)(c.estimatedCost)})]})]}),(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[r.jsx(p.Z,{className:"h-5 w-5 text-primary-400 mt-0.5"}),(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("p",{className:"text-xs text-surface-500 uppercase tracking-wide",children:"Purpose"}),r.jsx("p",{className:"text-sm text-surface-200 mt-0.5 leading-relaxed",children:c.purpose})]})]})]})]}),c.violations.length>0&&r.jsx(d.kH,{violations:c.violations}),c.auditLogs.length>0&&r.jsx(d.Zb,{children:r.jsx(d.$8,{logs:c.auditLogs})})]}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)(d.Zb,{children:[r.jsx(d.Ol,{title:"Employee"}),r.jsx(d.sM,{name:C.name,email:C.email})]}),c.policySnapshot&&(0,r.jsxs)(d.Zb,{children:[r.jsx(d.Ol,{title:"Policy Limits"}),r.jsx(g,{policy:c.policySnapshot})]}),"submitted"===c.status&&r.jsx(d.qP,{onApprove:k,onReject:P,isLoading:b})]})]})]})}function g({policy:e}){return(0,r.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-surface-400",children:"Max Flight Cost"}),r.jsx("span",{className:"text-surface-200 font-medium",children:(0,n.xG)(e.maxFlightCost)})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-surface-400",children:"Max Hotel/Day"}),r.jsx("span",{className:"text-surface-200 font-medium",children:(0,n.xG)(e.maxHotelPerDay)})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-surface-400",children:"Max Daily Food"}),r.jsx("span",{className:"text-surface-200 font-medium",children:(0,n.xG)(e.maxDailyFood)})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-surface-400",children:"Max Trip Total"}),r.jsx("span",{className:"text-surface-200 font-medium",children:(0,n.xG)(e.maxTripTotal)})]}),(0,r.jsxs)("div",{className:"pt-2 border-t border-surface-700",children:[r.jsx("p",{className:"text-surface-400 mb-1",children:"Allowed Flight Classes"}),r.jsx("div",{className:"flex flex-wrap gap-1",children:e.allowedFlightClasses.map(e=>r.jsx("span",{className:"px-2 py-0.5 bg-surface-700 text-surface-300 rounded text-xs",children:e},e))})]})]})}},6170:(e,s,a)=>{"use strict";a.d(s,{I:()=>n,p:()=>d});var r=a(326);a(7577);var t=a(5047),i=a(2166),l=a(4519);function n({children:e}){(0,t.useRouter)();let{isAuthenticated:s,isLoading:a,user:n}=(0,i.aC)();return a?r.jsx("div",{className:"min-h-screen bg-surface-950 flex items-center justify-center",children:r.jsx(l.$j,{size:"lg"})}):s?r.jsx(r.Fragment,{children:e}):null}var c=a(800);function d({children:e,allowedRoles:s,fallbackUrl:a="/dashboard"}){(0,t.useRouter)();let{role:l,isLoading:n}=(0,i.aC)(),d=l&&s.includes(l);return n?null:d?r.jsx(r.Fragment,{children:e}):(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[r.jsx(c.Z,{className:"h-12 w-12 text-surface-500 mb-4"}),r.jsx("h2",{className:"text-lg font-semibold text-surface-300",children:"Access Denied"}),r.jsx("p",{className:"text-sm text-surface-500 mt-1",children:"You don't have permission to view this page."})]})}},4224:(e,s,a)=>{"use strict";a.d(s,{x1:()=>r.Z});var r=a(5976)},2834:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>r});let r=(0,a(8570).createProxy)(String.raw`C:\Users\jaipr\Desktop\itilite\frontend\src\app\dashboard\layout.tsx#default`)},7135:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>r});let r=(0,a(8570).createProxy)(String.raw`C:\Users\jaipr\Desktop\itilite\frontend\src\app\dashboard\manager\travel\[id]\page.tsx#default`)}};var s=require("../../../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),r=s.X(0,[516,868,82],()=>a(5747));module.exports=r})();