(()=>{var e={};e.id=295,e.ids=[295],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},2694:e=>{"use strict";e.exports=require("http2")},8791:e=>{"use strict";e.exports=require("https")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},4175:e=>{"use strict";e.exports=require("tty")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},4646:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>l.a,__next_app__:()=>p,originalPathname:()=>x,pages:()=>o,routeModule:()=>u,tree:()=>d}),r(1955),r(2834),r(3201),r(5866);var t=r(3191),a=r(8716),i=r(7922),l=r.n(i),n=r(5231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);r.d(s,c);let d=["",{children:["dashboard",{children:["policies",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,1955)),"C:\\Users\\jaipr\\Desktop\\itilite\\frontend\\src\\app\\dashboard\\policies\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,2834)),"C:\\Users\\jaipr\\Desktop\\itilite\\frontend\\src\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,3201)),"C:\\Users\\jaipr\\Desktop\\itilite\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\jaipr\\Desktop\\itilite\\frontend\\src\\app\\dashboard\\policies\\page.tsx"],x="/dashboard/policies/page",p={require:r,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/policies/page",pathname:"/dashboard/policies",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},8978:(e,s,r)=>{Promise.resolve().then(r.bind(r,511))},3478:(e,s,r)=>{Promise.resolve().then(r.bind(r,8750))},2714:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});let t=(0,r(2881).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},3855:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});let t=(0,r(2881).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},5962:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});let t=(0,r(2881).Z)("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]])},511:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>C});var t=r(326),a=r(6170),i=r(5047),l=r(2166),n=r(4519),c=r(9635),d=r(1810);function o(){let e=(0,i.useRouter)(),{user:s,logout:r}=(0,l.aC)();return(0,t.jsxs)("header",{className:"h-16 bg-surface-900 border-b border-surface-700 px-6 flex items-center justify-between",children:[t.jsx("div",{children:t.jsx("h1",{className:"text-lg font-semibold text-surface-100",children:"Dashboard"})}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx("div",{className:"p-2 bg-surface-700 rounded-lg",children:t.jsx(c.Z,{className:"h-4 w-4 text-surface-300"})}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-medium text-surface-100",children:s?.name}),t.jsx("p",{className:"text-xs text-surface-500 capitalize",children:s?.role})]})]}),(0,t.jsxs)(n.zx,{variant:"ghost",size:"sm",onClick:()=>{r(),e.push("/login")},children:[t.jsx(d.Z,{className:"h-4 w-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]})}var x=r(434),p=r(1223),u=r(4319),h=r(6641),m=r(5964),f=r(1292),j=r(6507),b=r(2952),v=r(1383),g=r(1821),y=r(2200),N=r(6283),w=r(6464),Z=r(4061),k=r(7546);let P=[{href:"/dashboard",label:"Overview",icon:u.Z,roles:["employee","manager","admin"],section:"General"},{href:"/dashboard/travel",label:"Travel Requests",icon:h.Z,roles:["employee","manager","admin"]},{href:"/dashboard/expenses",label:"Expenses",icon:m.Z,roles:["employee","manager","admin"]},{href:"/dashboard/bookings",label:"Bookings",icon:f.Z,roles:["employee","manager","admin"]},{href:"/dashboard/notifications",label:"Notifications",icon:j.Z,roles:["employee","manager","admin"]},{href:"/dashboard/manager/travel/pending",label:"Travel Approvals",icon:b.Z,roles:["manager","admin"],section:"Manager"},{href:"/dashboard/approvals",label:"Quick Approvals",icon:v.Z,roles:["manager","admin"]},{href:"/dashboard/finance/expenses/pending",label:"Expense Review",icon:g.Z,roles:["admin"],section:"Finance"},{href:"/dashboard/flagged",label:"Flagged Expenses",icon:y.Z,roles:["admin"]},{href:"/dashboard/policies",label:"Policies",icon:N.Z,roles:["admin"],section:"Admin"},{href:"/dashboard/analytics",label:"Analytics",icon:w.Z,roles:["admin"]},{href:"/dashboard/users",label:"Users",icon:Z.Z,roles:["admin"]}];function q(){let e;let s=(0,i.usePathname)(),{role:r}=(0,l.aC)(),a=P.filter(e=>r&&e.roles.includes(r));return(0,t.jsxs)("aside",{className:"w-64 bg-surface-900 border-r border-surface-700 flex flex-col h-full",children:[(0,t.jsxs)("div",{className:"h-16 flex items-center gap-3 px-6 border-b border-surface-700",children:[t.jsx("div",{className:"p-2 bg-primary-600 rounded-lg",children:t.jsx(k.Z,{className:"h-5 w-5 text-white"})}),t.jsx("span",{className:"text-lg font-bold text-surface-100",children:"ITILITE Lite"})]}),t.jsx("nav",{className:"flex-1 py-4 px-3 overflow-y-auto",children:t.jsx("ul",{className:"space-y-1",children:a.map(r=>{let a=s===r.href||"/dashboard"!==r.href&&s.startsWith(r.href),i=r.section&&r.section!==e;return r.section&&(e=r.section),(0,t.jsxs)("li",{children:[i&&t.jsx("p",{className:"px-3 pt-5 pb-1.5 text-[10px] font-semibold uppercase tracking-wider text-surface-500",children:r.section}),(0,t.jsxs)(x.default,{href:r.href,className:(0,p.cn)("flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm font-medium transition-colors duration-150",a?"bg-primary-600/20 text-primary-400":"text-surface-400 hover:bg-surface-800 hover:text-surface-100"),children:[t.jsx(r.icon,{className:"h-5 w-5 flex-shrink-0"}),t.jsx("span",{children:r.label})]})]},r.href)})})}),t.jsx("div",{className:"p-4 border-t border-surface-700",children:t.jsx("p",{className:"text-xs text-surface-500 text-center",children:"Travel & Expense Management"})})]})}function C({children:e}){return t.jsx(a.I,{children:(0,t.jsxs)("div",{className:"min-h-screen bg-surface-950 flex",children:[t.jsx(q,{}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col",children:[t.jsx(o,{}),t.jsx("main",{className:"flex-1 p-6 overflow-auto",children:e})]})]})})}},8750:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>f});var t=r(326),a=r(7577),i=r(434),l=r(4224),n=r(1223),c=r(6170),d=r(4519),o=r(2166),x=r(3855),p=r(6283),u=r(361),h=r(2714),m=r(5962);function f(){return t.jsx(c.p,{allowedRoles:["admin"],children:t.jsx(j,{})})}function j(){let{toast:e}=(0,o.pm)(),[s,r]=(0,a.useState)([]),[c,f]=(0,a.useState)(!0),[j,b]=(0,a.useState)(null),[v,g]=(0,a.useState)(null),[y,N]=(0,a.useState)(!1),w=async()=>{try{let e=await l.x1.get("/policy/all");r(e.data.data||[])}catch(e){b(e.response?.data?.message||"Failed to load policies")}finally{f(!1)}},Z=async()=>{if(v){N(!0);try{await l.x1.post(`/policy/${v._id}/activate`),e.success(`Policy "${v.name}" activated`),g(null),w()}catch(s){e.error(s.response?.data?.message||"Failed to activate policy")}finally{N(!1)}}};return c?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx(d.$j,{size:"lg"})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-surface-100",children:"Policies"}),t.jsx("p",{className:"text-surface-400 mt-1",children:"Manage travel and expense policies"})]}),t.jsx(i.default,{href:"/dashboard/policies/new",children:(0,t.jsxs)(d.zx,{children:[t.jsx(x.Z,{className:"h-4 w-4"}),"New Policy"]})})]}),j&&t.jsx("div",{className:"p-4 bg-danger-600/10 border border-danger-600/30 rounded-xl",children:t.jsx("p",{className:"text-sm text-danger-500",children:j})}),0===s.length?t.jsx(d.Zb,{children:(0,t.jsxs)("div",{className:"text-center py-8",children:[t.jsx(p.Z,{className:"h-12 w-12 text-surface-500 mx-auto mb-3"}),t.jsx("p",{className:"text-surface-400",children:"No policies created yet."}),t.jsx(i.default,{href:"/dashboard/policies/new",className:"text-primary-400 text-sm hover:underline mt-1 inline-block",children:"Create your first policy â†’"})]})}):t.jsx(d.Zb,{className:"overflow-hidden p-0",children:t.jsx("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-surface-700/50 border-b border-surface-700",children:(0,t.jsxs)("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-surface-300 uppercase tracking-wider",children:"Name"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-surface-300 uppercase tracking-wider",children:"Version"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-surface-300 uppercase tracking-wider",children:"Created"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-surface-300 uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-surface-300 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-surface-700",children:s.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-surface-700/30 transition-colors",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsx("p",{className:"text-sm font-medium text-surface-100",children:e.name})}),t.jsx("td",{className:"px-6 py-4",children:(0,t.jsxs)(d.Ct,{variant:"neutral",children:["v",e.version]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("p",{className:"text-sm text-surface-400",children:(0,n.p6)(e.createdAt)})}),t.jsx("td",{className:"px-6 py-4",children:e.isActive?(0,t.jsxs)(d.Ct,{variant:"success",children:[t.jsx(u.Z,{className:"h-3 w-3 mr-1"}),"Active"]}):t.jsx(d.Ct,{variant:"neutral",children:"Draft"})}),t.jsx("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[t.jsx(i.default,{href:`/dashboard/policies/${e._id}`,children:(0,t.jsxs)(d.zx,{variant:"ghost",size:"sm",children:[t.jsx(h.Z,{className:"h-4 w-4"}),"View"]})}),!e.isActive&&(0,t.jsxs)(d.zx,{variant:"secondary",size:"sm",onClick:()=>g(e),children:[t.jsx(m.Z,{className:"h-4 w-4"}),"Activate"]})]})})]},e._id))})]})})}),t.jsx(d.sm,{isOpen:!!v,title:"Activate Policy",message:`Are you sure you want to activate "${v?.name}"? This will deactivate the current active policy.`,confirmLabel:"Activate",variant:"primary",isLoading:y,onConfirm:Z,onCancel:()=>g(null)})]})}},6170:(e,s,r)=>{"use strict";r.d(s,{I:()=>n,p:()=>d});var t=r(326);r(7577);var a=r(5047),i=r(2166),l=r(4519);function n({children:e}){(0,a.useRouter)();let{isAuthenticated:s,isLoading:r,user:n}=(0,i.aC)();return r?t.jsx("div",{className:"min-h-screen bg-surface-950 flex items-center justify-center",children:t.jsx(l.$j,{size:"lg"})}):s?t.jsx(t.Fragment,{children:e}):null}var c=r(800);function d({children:e,allowedRoles:s,fallbackUrl:r="/dashboard"}){(0,a.useRouter)();let{role:l,isLoading:n}=(0,i.aC)(),d=l&&s.includes(l);return n?null:d?t.jsx(t.Fragment,{children:e}):(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[t.jsx(c.Z,{className:"h-12 w-12 text-surface-500 mb-4"}),t.jsx("h2",{className:"text-lg font-semibold text-surface-300",children:"Access Denied"}),t.jsx("p",{className:"text-sm text-surface-500 mt-1",children:"You don't have permission to view this page."})]})}},4224:(e,s,r)=>{"use strict";r.d(s,{x1:()=>t.Z});var t=r(5976)},2834:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>t});let t=(0,r(8570).createProxy)(String.raw`C:\Users\jaipr\Desktop\itilite\frontend\src\app\dashboard\layout.tsx#default`)},1955:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>t});let t=(0,r(8570).createProxy)(String.raw`C:\Users\jaipr\Desktop\itilite\frontend\src\app\dashboard\policies\page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[516,868,82],()=>r(4646));module.exports=t})();