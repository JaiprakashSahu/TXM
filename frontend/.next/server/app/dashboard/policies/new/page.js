(()=>{var e={};e.id=962,e.ids=[962],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},2694:e=>{"use strict";e.exports=require("http2")},8791:e=>{"use strict";e.exports=require("https")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},4175:e=>{"use strict";e.exports=require("tty")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},1602:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c}),r(3555),r(2834),r(3201),r(5866);var a=r(3191),t=r(8716),i=r(7922),l=r.n(i),n=r(5231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);r.d(s,o);let c=["",{children:["dashboard",{children:["policies",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,3555)),"C:\\Users\\jaipr\\Desktop\\itilite\\frontend\\src\\app\\dashboard\\policies\\new\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,2834)),"C:\\Users\\jaipr\\Desktop\\itilite\\frontend\\src\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,3201)),"C:\\Users\\jaipr\\Desktop\\itilite\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\jaipr\\Desktop\\itilite\\frontend\\src\\app\\dashboard\\policies\\new\\page.tsx"],u="/dashboard/policies/new/page",x={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/dashboard/policies/new/page",pathname:"/dashboard/policies/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},8978:(e,s,r)=>{Promise.resolve().then(r.bind(r,511))},5668:(e,s,r)=>{Promise.resolve().then(r.bind(r,293))},6333:(e,s,r)=>{"use strict";r.d(s,{Z:()=>a});let a=(0,r(2881).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},511:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>k});var a=r(326),t=r(6170),i=r(5047),l=r(2166),n=r(4519),o=r(9635),c=r(1810);function d(){let e=(0,i.useRouter)(),{user:s,logout:r}=(0,l.aC)();return(0,a.jsxs)("header",{className:"h-16 bg-surface-900 border-b border-surface-700 px-6 flex items-center justify-between",children:[a.jsx("div",{children:a.jsx("h1",{className:"text-lg font-semibold text-surface-100",children:"Dashboard"})}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("div",{className:"p-2 bg-surface-700 rounded-lg",children:a.jsx(o.Z,{className:"h-4 w-4 text-surface-300"})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium text-surface-100",children:s?.name}),a.jsx("p",{className:"text-xs text-surface-500 capitalize",children:s?.role})]})]}),(0,a.jsxs)(n.zx,{variant:"ghost",size:"sm",onClick:()=>{r(),e.push("/login")},children:[a.jsx(c.Z,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]})}var u=r(434),x=r(1223),p=r(4319),m=r(6641),h=r(5964),f=r(1292),b=r(6507),g=r(2952),j=r(1383),v=r(1821),y=r(2200),N=r(6283),w=r(6464),P=r(4061),C=r(7546);let q=[{href:"/dashboard",label:"Overview",icon:p.Z,roles:["employee","manager","admin"],section:"General"},{href:"/dashboard/travel",label:"Travel Requests",icon:m.Z,roles:["employee","manager","admin"]},{href:"/dashboard/expenses",label:"Expenses",icon:h.Z,roles:["employee","manager","admin"]},{href:"/dashboard/bookings",label:"Bookings",icon:f.Z,roles:["employee","manager","admin"]},{href:"/dashboard/notifications",label:"Notifications",icon:b.Z,roles:["employee","manager","admin"]},{href:"/dashboard/manager/travel/pending",label:"Travel Approvals",icon:g.Z,roles:["manager","admin"],section:"Manager"},{href:"/dashboard/approvals",label:"Quick Approvals",icon:j.Z,roles:["manager","admin"]},{href:"/dashboard/finance/expenses/pending",label:"Expense Review",icon:v.Z,roles:["admin"],section:"Finance"},{href:"/dashboard/flagged",label:"Flagged Expenses",icon:y.Z,roles:["admin"]},{href:"/dashboard/policies",label:"Policies",icon:N.Z,roles:["admin"],section:"Admin"},{href:"/dashboard/analytics",label:"Analytics",icon:w.Z,roles:["admin"]},{href:"/dashboard/users",label:"Users",icon:P.Z,roles:["admin"]}];function Z(){let e;let s=(0,i.usePathname)(),{role:r}=(0,l.aC)(),t=q.filter(e=>r&&e.roles.includes(r));return(0,a.jsxs)("aside",{className:"w-64 bg-surface-900 border-r border-surface-700 flex flex-col h-full",children:[(0,a.jsxs)("div",{className:"h-16 flex items-center gap-3 px-6 border-b border-surface-700",children:[a.jsx("div",{className:"p-2 bg-primary-600 rounded-lg",children:a.jsx(C.Z,{className:"h-5 w-5 text-white"})}),a.jsx("span",{className:"text-lg font-bold text-surface-100",children:"ITILITE Lite"})]}),a.jsx("nav",{className:"flex-1 py-4 px-3 overflow-y-auto",children:a.jsx("ul",{className:"space-y-1",children:t.map(r=>{let t=s===r.href||"/dashboard"!==r.href&&s.startsWith(r.href),i=r.section&&r.section!==e;return r.section&&(e=r.section),(0,a.jsxs)("li",{children:[i&&a.jsx("p",{className:"px-3 pt-5 pb-1.5 text-[10px] font-semibold uppercase tracking-wider text-surface-500",children:r.section}),(0,a.jsxs)(u.default,{href:r.href,className:(0,x.cn)("flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm font-medium transition-colors duration-150",t?"bg-primary-600/20 text-primary-400":"text-surface-400 hover:bg-surface-800 hover:text-surface-100"),children:[a.jsx(r.icon,{className:"h-5 w-5 flex-shrink-0"}),a.jsx("span",{children:r.label})]})]},r.href)})})}),a.jsx("div",{className:"p-4 border-t border-surface-700",children:a.jsx("p",{className:"text-xs text-surface-500 text-center",children:"Travel & Expense Management"})})]})}function k({children:e}){return a.jsx(t.I,{children:(0,a.jsxs)("div",{className:"min-h-screen bg-surface-950 flex",children:[a.jsx(Z,{}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col",children:[a.jsx(d,{}),a.jsx("main",{className:"flex-1 p-6 overflow-auto",children:e})]})]})})}},293:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>p});var a=r(326),t=r(7577),i=r(5047),l=r(4224),n=r(6170),o=r(4519),c=r(2166),d=r(6333),u=r(434);let x=["economy","premium_economy","business","first"];function p(){return a.jsx(n.p,{allowedRoles:["admin"],children:a.jsx(m,{})})}function m(){let e=(0,i.useRouter)(),{toast:s}=(0,c.pm)(),[r,n]=(0,t.useState)(""),[p,m]=(0,t.useState)("25000"),[h,f]=(0,t.useState)("5000"),[b,g]=(0,t.useState)("1500"),[j,v]=(0,t.useState)("100000"),[y,N]=(0,t.useState)(["economy","premium_economy"]),[w,P]=(0,t.useState)(!1),[C,q]=(0,t.useState)(null),Z=e=>{N(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},k=async a=>{if(a.preventDefault(),!r.trim()){q("Policy name is required");return}if(0===y.length){q("Select at least one flight class");return}P(!0),q(null);try{await l.x1.post("/policy",{name:r.trim(),rules:{maxFlightCost:Number(p),maxHotelPerDay:Number(h),maxDailyFood:Number(b),maxTripTotal:Number(j),allowedFlightClasses:y}}),s.success("Policy created successfully"),e.push("/dashboard/policies")}catch(e){q(e.response?.data?.message||"Failed to create policy"),s.error("Failed to create policy")}finally{P(!1)}};return(0,a.jsxs)("div",{className:"space-y-6 max-w-2xl",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx(u.default,{href:"/dashboard/policies",children:a.jsx("button",{className:"p-2 rounded-lg text-surface-400 hover:bg-surface-800 hover:text-surface-100 transition-colors",children:a.jsx(d.Z,{className:"h-5 w-5"})})}),(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-surface-100",children:"Create New Policy"}),a.jsx("p",{className:"text-surface-400 mt-1",children:"Define expense limits and allowed flight classes"})]})]}),C&&a.jsx("div",{className:"p-4 bg-danger-600/10 border border-danger-600/30 rounded-xl",children:a.jsx("p",{className:"text-sm text-danger-500",children:C})}),a.jsx(o.Zb,{children:(0,a.jsxs)("form",{onSubmit:k,className:"space-y-5",children:[a.jsx(o.II,{id:"name",label:"Policy Name",placeholder:"e.g., Standard Travel Policy 2026",value:r,onChange:e=>n(e.target.value)}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(o.II,{id:"maxFlightCost",type:"number",label:"Max Flight Cost (₹)",value:p,onChange:e=>m(e.target.value)}),a.jsx(o.II,{id:"maxHotelPerDay",type:"number",label:"Max Hotel Per Day (₹)",value:h,onChange:e=>f(e.target.value)}),a.jsx(o.II,{id:"maxDailyFood",type:"number",label:"Max Daily Food (₹)",value:b,onChange:e=>g(e.target.value)}),a.jsx(o.II,{id:"maxTripTotal",type:"number",label:"Max Trip Total (₹)",value:j,onChange:e=>v(e.target.value)})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-200 mb-2",children:"Allowed Flight Classes"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:x.map(e=>a.jsx("button",{type:"button",onClick:()=>Z(e),className:`px-4 py-2 rounded-lg text-sm font-medium border transition-colors ${y.includes(e)?"bg-primary-600/20 border-primary-500 text-primary-400":"bg-surface-800 border-surface-700 text-surface-400 hover:border-surface-500"}`,children:e.replace("_"," ")},e))})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-2",children:[a.jsx(o.zx,{type:"submit",isLoading:w,children:"Create Policy"}),a.jsx(u.default,{href:"/dashboard/policies",children:a.jsx(o.zx,{type:"button",variant:"secondary",children:"Cancel"})})]})]})})]})}},6170:(e,s,r)=>{"use strict";r.d(s,{I:()=>n,p:()=>c});var a=r(326);r(7577);var t=r(5047),i=r(2166),l=r(4519);function n({children:e}){(0,t.useRouter)();let{isAuthenticated:s,isLoading:r,user:n}=(0,i.aC)();return r?a.jsx("div",{className:"min-h-screen bg-surface-950 flex items-center justify-center",children:a.jsx(l.$j,{size:"lg"})}):s?a.jsx(a.Fragment,{children:e}):null}var o=r(800);function c({children:e,allowedRoles:s,fallbackUrl:r="/dashboard"}){(0,t.useRouter)();let{role:l,isLoading:n}=(0,i.aC)(),c=l&&s.includes(l);return n?null:c?a.jsx(a.Fragment,{children:e}):(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(o.Z,{className:"h-12 w-12 text-surface-500 mb-4"}),a.jsx("h2",{className:"text-lg font-semibold text-surface-300",children:"Access Denied"}),a.jsx("p",{className:"text-sm text-surface-500 mt-1",children:"You don't have permission to view this page."})]})}},4224:(e,s,r)=>{"use strict";r.d(s,{x1:()=>a.Z});var a=r(5976)},2834:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>a});let a=(0,r(8570).createProxy)(String.raw`C:\Users\jaipr\Desktop\itilite\frontend\src\app\dashboard\layout.tsx#default`)},3555:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>a});let a=(0,r(8570).createProxy)(String.raw`C:\Users\jaipr\Desktop\itilite\frontend\src\app\dashboard\policies\new\page.tsx#default`)}};var s=require("../../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),a=s.X(0,[516,868,82],()=>r(1602));module.exports=a})();