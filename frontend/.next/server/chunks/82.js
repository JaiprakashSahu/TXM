exports.id=82,exports.ids=[82],exports.modules={6472:(e,s,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},2709:(e,s,r)=>{Promise.resolve().then(r.bind(r,4001)),Promise.resolve().then(r.bind(r,883))},4519:(e,s,r)=>{"use strict";r.d(s,{qP:()=>C,$8:()=>Z,Ct:()=>g,zx:()=>d,Zb:()=>f,Ol:()=>h,sm:()=>E,II:()=>u,IN:()=>T,Ph:()=>x,$j:()=>l,OE:()=>j,gx:()=>m,sM:()=>w,kH:()=>N});var t=r(326),a=r(1223);let n={sm:"h-4 w-4 border-2",md:"h-6 w-6 border-2",lg:"h-8 w-8 border-3"};function l({size:e="md",className:s}){return t.jsx("div",{className:(0,a.cn)("animate-spin rounded-full border-surface-400 border-t-primary-500",n[e],s)})}var i=r(7577);let c={primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500",secondary:"bg-surface-700 text-surface-100 hover:bg-surface-600 focus:ring-surface-500",danger:"bg-danger-600 text-white hover:bg-danger-500 focus:ring-danger-500","danger-outline":"border border-danger-600 text-danger-500 bg-transparent hover:bg-danger-600/10 focus:ring-danger-500",success:"bg-success-600 text-white hover:bg-success-500 focus:ring-success-500",ghost:"bg-transparent text-surface-300 hover:bg-surface-800 hover:text-surface-100"},o={sm:"px-3 py-1.5 text-xs",md:"px-4 py-2.5 text-sm",lg:"px-6 py-3 text-base"},d=(0,i.forwardRef)(({className:e,variant:s="primary",size:r="md",isLoading:n,disabled:i,children:d,...u},x)=>(0,t.jsxs)("button",{ref:x,disabled:i||n,className:(0,a.cn)("inline-flex items-center justify-center gap-2 font-medium rounded-xl transition-colors duration-150","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-surface-950","disabled:opacity-50 disabled:cursor-not-allowed",c[s],o[r],e),...u,children:[n&&t.jsx(l,{size:"sm"}),d]}));d.displayName="Button";let u=(0,i.forwardRef)(({className:e,label:s,error:r,id:n,...l},i)=>(0,t.jsxs)("div",{className:"w-full",children:[s&&t.jsx("label",{htmlFor:n,className:"block text-sm font-medium text-surface-300 mb-1.5",children:s}),t.jsx("input",{ref:i,id:n,className:(0,a.cn)("w-full px-4 py-2.5 bg-surface-900 border rounded-xl text-surface-100","placeholder-surface-500 transition-colors duration-150","focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",r?"border-danger-500":"border-surface-700",e),...l}),r&&t.jsx("p",{className:"text-sm text-danger-500 mt-1",children:r})]}));u.displayName="Input";let x=(0,i.forwardRef)(({className:e,label:s,error:r,id:n,options:l,...i},c)=>(0,t.jsxs)("div",{className:"w-full",children:[s&&t.jsx("label",{htmlFor:n,className:"block text-sm font-medium text-surface-300 mb-1.5",children:s}),t.jsx("select",{ref:c,id:n,className:(0,a.cn)("w-full px-4 py-2.5 bg-surface-900 border rounded-xl text-surface-100","transition-colors duration-150 cursor-pointer","focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",r?"border-danger-500":"border-surface-700",e),...i,children:l.map(e=>t.jsx("option",{value:e.value,children:e.label},e.value))}),r&&t.jsx("p",{className:"text-sm text-danger-500 mt-1",children:r})]}));x.displayName="Select";let m=(0,i.forwardRef)(({className:e,label:s,error:r,id:n,...l},i)=>(0,t.jsxs)("div",{className:"w-full",children:[s&&t.jsx("label",{htmlFor:n,className:"block text-sm font-medium text-surface-300 mb-1.5",children:s}),t.jsx("textarea",{ref:i,id:n,className:(0,a.cn)("w-full px-4 py-2.5 bg-surface-900 border rounded-xl text-surface-100","placeholder-surface-500 transition-colors duration-150 resize-none","focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",r?"border-danger-500":"border-surface-700",e),...l}),r&&t.jsx("p",{className:"text-sm text-danger-500 mt-1",children:r})]}));function f({children:e,className:s}){return t.jsx("div",{className:(0,a.cn)("bg-surface-800 border border-surface-700 rounded-xl p-6",s),children:e})}function h({title:e,description:s,action:r}){return(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-surface-100",children:e}),s&&t.jsx("p",{className:"text-sm text-surface-400 mt-1",children:s})]}),r&&t.jsx("div",{children:r})]})}m.displayName="Textarea";let p={primary:"bg-primary-600/20 text-primary-400",success:"bg-success-600/20 text-success-500",warning:"bg-warning-600/20 text-warning-500",danger:"bg-danger-600/20 text-danger-500",neutral:"bg-surface-700 text-surface-300"};function g({variant:e="neutral",children:s,className:r}){return t.jsx("span",{className:(0,a.cn)("inline-flex items-center px-2.5 py-0.5 rounded-lg text-xs font-medium",p[e],r),children:s})}let b={draft:{label:"Draft",variant:"neutral"},submitted:{label:"Pending Approval",variant:"primary"},manager_approved:{label:"Approved",variant:"success"},manager_rejected:{label:"Rejected",variant:"danger"},booked:{label:"Booked",variant:"success"},completed:{label:"Completed",variant:"neutral"},cancelled:{label:"Cancelled",variant:"danger"},finance_approved:{label:"Approved",variant:"success"},finance_rejected:{label:"Rejected",variant:"danger"},flagged:{label:"Flagged",variant:"warning"}};function j({status:e,className:s}){let r=b[e]||{label:e,variant:"neutral"};return t.jsx(g,{variant:r.variant,className:s,children:r.label})}var v=r(949);function N({violations:e,className:s}){return 0===e.length?null:(0,t.jsxs)("div",{className:`p-4 bg-warning-600/10 border border-warning-600/30 rounded-xl ${s||""}`,children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx(v.Z,{className:"h-4 w-4 text-warning-500"}),(0,t.jsxs)("h4",{className:"text-sm font-semibold text-warning-500",children:["Policy Violations (",e.length,")"]})]}),t.jsx("div",{className:"space-y-2",children:e.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-start justify-between gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx("p",{className:"text-surface-200",children:e.message}),(0,t.jsxs)("p",{className:"text-xs text-surface-500 mt-0.5",children:["Code: ",e.code]})]}),(void 0!==e.amount||void 0!==e.limit)&&(0,t.jsxs)("div",{className:"text-right text-xs text-surface-400 whitespace-nowrap",children:[void 0!==e.amount&&(0,t.jsxs)("p",{children:["Actual: ",t.jsx("span",{className:"text-danger-500",children:(0,a.xG)(e.amount)})]}),void 0!==e.limit&&(0,t.jsxs)("p",{children:["Limit: ",t.jsx("span",{className:"text-surface-300",children:(0,a.xG)(e.limit)})]})]})]},s))})]})}function w({name:e,email:s,size:r="md",className:n}){let l=e.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2);return(0,t.jsxs)("div",{className:(0,a.cn)("flex items-center gap-2.5",n),children:[t.jsx("div",{className:(0,a.cn)("rounded-full bg-primary-600/20 text-primary-400 flex items-center justify-center font-semibold flex-shrink-0","sm"===r?"h-7 w-7 text-xs":"h-9 w-9 text-sm"),children:l}),(0,t.jsxs)("div",{className:"min-w-0",children:[t.jsx("p",{className:(0,a.cn)("font-medium text-surface-100 truncate","sm"===r?"text-xs":"text-sm"),children:e}),s&&t.jsx("p",{className:(0,a.cn)("text-surface-400 truncate","sm"===r?"text-[10px]":"text-xs"),children:s})]})]})}var y=r(361),k=r(9669);function C({onApprove:e,onReject:s,isLoading:r=!1,title:a="Take Action"}){let[n,l]=(0,i.useState)(""),c=r||0===n.trim().length;return(0,t.jsxs)(f,{children:[t.jsx("h3",{className:"text-lg font-semibold text-surface-100 mb-4",children:a}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-surface-300 mb-1.5",children:["Comment ",t.jsx("span",{className:"text-surface-500",children:"(required for rejection)"})]}),t.jsx(m,{placeholder:"Add a comment...",rows:3,value:n,onChange:e=>l(e.target.value),disabled:r})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)(d,{variant:"success",onClick:()=>e(n),isLoading:r,disabled:r,children:[t.jsx(y.Z,{className:"h-4 w-4"}),"Approve"]}),(0,t.jsxs)(d,{variant:"danger-outline",onClick:()=>s(n),isLoading:r,disabled:c,children:[t.jsx(k.Z,{className:"h-4 w-4"}),"Reject"]})]}),0===n.trim().length&&t.jsx("p",{className:"text-xs text-surface-500",children:"A comment is required to reject."})]})]})}var P=r(4019);function T({url:e,isOpen:s,onClose:r}){let a=e.toLowerCase().endsWith(".pdf");return((0,i.useCallback)(e=>{"Escape"===e.key&&r()},[r]),s)?(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",onClick:r,children:[t.jsx("div",{className:"absolute inset-0 bg-surface-950/80"}),(0,t.jsxs)("div",{className:"relative bg-surface-800 border border-surface-700 rounded-xl shadow-xl max-w-3xl w-full mx-4 max-h-[85vh] flex flex-col",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-surface-700",children:[t.jsx("h3",{className:"text-sm font-semibold text-surface-100",children:"Receipt Preview"}),t.jsx("button",{onClick:r,className:"p-1.5 rounded-lg text-surface-400 hover:bg-surface-700 hover:text-surface-100 transition-colors",children:t.jsx(P.Z,{className:"h-4 w-4"})})]}),t.jsx("div",{className:"flex-1 overflow-auto p-4",children:a?t.jsx("iframe",{src:e,className:"w-full h-[70vh] rounded-lg border border-surface-700",title:"Receipt PDF"}):t.jsx("img",{src:e,alt:"Receipt",className:"max-w-full h-auto rounded-lg mx-auto"})})]})]}):null}var A=r(8998);function Z({logs:e,className:s}){return 0===e.length?null:(0,t.jsxs)("div",{className:s,children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx(A.Z,{className:"h-4 w-4 text-surface-400"}),t.jsx("h4",{className:"text-sm font-semibold text-surface-100",children:"Audit Trail"})]}),(0,t.jsxs)("div",{className:"relative pl-6 space-y-4",children:[t.jsx("div",{className:"absolute left-[7px] top-1 bottom-1 w-px bg-surface-700"}),e.map((e,s)=>(0,t.jsxs)("div",{className:"relative",children:[t.jsx("div",{className:"absolute -left-6 top-1.5 h-3 w-3 rounded-full border-2 border-surface-600 bg-surface-800"}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsx("span",{className:"text-sm font-medium text-surface-200",children:e.action}),(0,t.jsxs)("span",{className:"text-xs text-surface-500",children:["by ",e.actorRole]})]}),t.jsx("p",{className:"text-xs text-surface-500 mt-0.5",children:(0,a.o0)(e.timestamp)}),e.note&&t.jsx("p",{className:"text-sm text-surface-400 mt-1 pl-3 border-l-2 border-surface-700",children:e.note})]})]},s))]})]})}function E({isOpen:e,title:s,message:r,confirmLabel:a="Confirm",cancelLabel:n="Cancel",variant:l="primary",isLoading:i=!1,onConfirm:c,onCancel:o}){return e?t.jsx("div",{className:"fixed inset-0 z-[9998] flex items-center justify-center bg-black/60 backdrop-blur-sm",onClick:i?void 0:o,children:(0,t.jsxs)("div",{className:"bg-surface-800 border border-surface-700 rounded-xl shadow-xl w-full max-w-md mx-4 p-6",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:`p-2 rounded-lg ${"danger"===l?"bg-danger-600/20":"bg-primary-600/20"}`,children:t.jsx(v.Z,{className:`h-5 w-5 ${"danger"===l?"text-danger-500":"text-primary-400"}`})}),(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg font-semibold text-surface-100",children:s}),t.jsx("p",{className:"text-sm text-surface-400 mt-1",children:r})]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[t.jsx(d,{variant:"secondary",onClick:o,disabled:i,children:n}),t.jsx(d,{variant:"danger"===l?"danger":"primary",onClick:c,isLoading:i,children:a})]})]})}):null}},4001:(e,s,r)=>{"use strict";r.d(s,{AuthProvider:()=>o,useAuth:()=>d});var t=r(326),a=r(7577),n=r(8201),l=r(6256),i=r(5976);let c=(0,a.createContext)(void 0);function o({children:e}){let[s,r]=(0,a.useState)(null),[o,d]=(0,a.useState)(!0);(0,a.useCallback)(e=>{try{return(0,n.o)(e)}catch{return null}},[]),(0,a.useCallback)(async()=>{try{let e=await i.Z.get("/auth/profile");e.data.success&&r(e.data.data)}catch(e){(0,l.yE)(),r(null)}},[]);let u=(0,a.useCallback)(async(e,s)=>{let t=await i.Z.post("/auth/login",{email:e,password:s});if(t.data.success){let{accessToken:e,refreshToken:s,user:a}=t.data.data;(0,l.d0)({accessToken:e,refreshToken:s}),r(a)}else throw Error(t.data.message||"Login failed")},[]),x=(0,a.useCallback)(()=>{let e=(0,l.lz)();e?.refreshToken&&i.Z.post("/auth/logout",{refreshToken:e.refreshToken}).catch(()=>{}),(0,l.yE)(),r(null)},[]),m={user:s,role:s?.role||null,isAuthenticated:!!s,isLoading:o,login:u,logout:x};return t.jsx(c.Provider,{value:m,children:e})}function d(){let e=(0,a.useContext)(c);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},883:(e,s,r)=>{"use strict";r.d(s,{ToastProvider:()=>m,useToast:()=>d});var t=r(326),a=r(7577),n=r(361),l=r(9669),i=r(8019),c=r(4019);let o=(0,a.createContext)(null);function d(){let e=(0,a.useContext)(o);if(!e)throw Error("useToast must be used within ToastProvider");return e}let u={success:n.Z,error:l.Z,info:i.Z},x={success:"bg-success-600/90 text-white",error:"bg-danger-600/90 text-white",info:"bg-primary-600/90 text-white"};function m({children:e}){let[s,r]=(0,a.useState)([]),n=(0,a.useCallback)((e,s)=>{let t=Date.now().toString()+Math.random().toString(36).slice(2);r(r=>[...r,{id:t,type:e,message:s}]),setTimeout(()=>{r(e=>e.filter(e=>e.id!==t))},4e3)},[]),l=(0,a.useCallback)(e=>{r(s=>s.filter(s=>s.id!==e))},[]);return(0,t.jsxs)(o.Provider,{value:{toast:{success:e=>n("success",e),error:e=>n("error",e),info:e=>n("info",e)}},children:[e,t.jsx("div",{className:"fixed bottom-6 right-6 z-[9999] flex flex-col gap-2 pointer-events-none",children:s.map(e=>{let s=u[e.type];return(0,t.jsxs)("div",{className:`pointer-events-auto flex items-center gap-3 px-4 py-3 rounded-xl shadow-lg ${x[e.type]} animate-slide-up min-w-[280px] max-w-[400px]`,children:[t.jsx(s,{className:"h-5 w-5 flex-shrink-0"}),t.jsx("p",{className:"text-sm flex-1",children:e.message}),t.jsx("button",{onClick:()=>l(e.id),className:"opacity-70 hover:opacity-100",children:t.jsx(c.Z,{className:"h-4 w-4"})})]},e.id)})})]})}},2166:(e,s,r)=>{"use strict";r.d(s,{aC:()=>t.useAuth,pm:()=>a.useToast});var t=r(4001),a=r(883)},5976:(e,s,r)=>{"use strict";r.d(s,{Z:()=>d});var t=r(4464),a=r(6256);let n="http://localhost:3000/api";console.log("API BASE:",n);let l=t.Z.create({baseURL:n,headers:{"Content-Type":"application/json"}}),i=!1,c=[],o=(e,s=null)=>{c.forEach(r=>{e?r.reject(e):s&&r.resolve(s)}),c=[]};l.interceptors.request.use(e=>{let s=(0,a.lz)();return s?.accessToken&&(e.headers.Authorization=`Bearer ${s.accessToken}`),e},e=>Promise.reject(e)),l.interceptors.response.use(e=>e,async e=>{let s=e.config;if(e.response?.status!==401||s._retry||s.url?.includes("/auth/"))return Promise.reject(e);let r=(0,a.lz)();if(!r?.refreshToken)return(0,a.yE)(),window.location.href="/login",Promise.reject(e);if(i)return new Promise((e,s)=>{c.push({resolve:e,reject:s})}).then(e=>(s.headers.Authorization=`Bearer ${e}`,l(s))).catch(e=>Promise.reject(e));s._retry=!0,i=!0;try{let{accessToken:e,refreshToken:i}=(await t.Z.post(`${n}/auth/refresh`,{refreshToken:r.refreshToken})).data.data;return(0,a.d0)({accessToken:e,refreshToken:i}),o(null,e),s.headers.Authorization=`Bearer ${e}`,l(s)}catch(e){return o(e,null),(0,a.yE)(),window.location.href="/login",Promise.reject(e)}finally{i=!1}});let d=l},6256:(e,s,r)=>{"use strict";function t(){return null}function a(e){}function n(){}r.d(s,{d0:()=>a,lz:()=>t,yE:()=>n})},1223:(e,s,r)=>{"use strict";r.d(s,{cn:()=>a,o0:()=>i,p6:()=>l,xG:()=>n});var t=r(1135);function a(...e){return(0,t.W)(e)}function n(e,s="INR"){return new Intl.NumberFormat("en-IN",{style:"currency",currency:s,maximumFractionDigits:0}).format(e)}function l(e){return new Date(e).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})}function i(e){return new Date(e).toLocaleString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}},3201:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>d,metadata:()=>o});var t=r(9510),a=r(5384),n=r.n(a);r(5023);var l=r(8570);let i=(0,l.createProxy)(String.raw`C:\Users\jaipr\Desktop\itilite\frontend\src\contexts\AuthContext.tsx#AuthProvider`);(0,l.createProxy)(String.raw`C:\Users\jaipr\Desktop\itilite\frontend\src\contexts\AuthContext.tsx#useAuth`),(0,l.createProxy)(String.raw`C:\Users\jaipr\Desktop\itilite\frontend\src\contexts\ToastContext.tsx#useToast`);let c=(0,l.createProxy)(String.raw`C:\Users\jaipr\Desktop\itilite\frontend\src\contexts\ToastContext.tsx#ToastProvider`),o={title:"ITILITE Lite - Travel & Expense Management",description:"Corporate travel and expense management dashboard"};function d({children:e}){return t.jsx("html",{lang:"en",children:t.jsx("body",{className:n().className,children:t.jsx(i,{children:t.jsx(c,{children:e})})})})}},5023:()=>{}};